- quiz.dart
- 関数と機能
- 問題と正答出力
- ダミー回答出力

- 現状の構造
    - 4択クイズの出題
    - 問題生成は、なるべく被りがないように
    - 問題ごとの正誤を記録

    - 内部処理

    - quizクラス
        - 問題本体を格納
        - ミニ問題リストの生成を担当
        - ミニ問題リストは、実体として2つ1組のListを指す
        - 正誤判定も担当、intで管理
        
        - 外部が呼んでいいのはは4か所のみ、
        - getNextMondai, getNextOptions, increment, bookHistoryToStr
        - これら4つは同時に呼ばれなければならない
        - これら4つのうちincrementは絶対に最後に呼ぶ
        - 

        - 問題部分は、List<String>で
        - 選択肢部分は、List<List<String>>で
        - 扱いやすさ上、問題と選択肢4つはMapにしない
        - Map<List<string>, List<List<String>>>とかは扱わない
        - だからどちらもindexで引っ張ってこれる、生成との兼ね合いで扱いやすくなる
        - ただしindexで扱うのはquizクラス内にとどめる
        - UI系統に流すものは必ずString化済み
        - ミニ問題リストの長さをsizeで指定
        - size問ごとにミニ問題リストは生成
        - 生成周期を管理するカウンタもクラスに格納
        - 正誤リストの管理も行う
        - List<String>のみを外部に出す

    - mainクラス
        - MyAppを呼び出すだけ
    
    - MyAppクラス
        - ChangeNotifierProviderを呼び出し
        - context, themeなどを保管
        - homeのPageを指定
        - super.keyを握る

    - MyAppStateクラス
        - quizクラスの呼び出し
        - quizの処理はquizクラスに外部化
        - UI表示に必要なものだけ保有

        - 外部から持ってくるもの
        - Stringのミニ問題リスト、問題ごとの正誤履歴(「book」と呼ぶ)、bookの保存数
        - すべてを1つのquiz()から持ってくる、当クラスでは定数を作らない
        - 生成と正誤判定をquizに外部化
        - getNextを呼べばquizの4メソッドが呼ばれ、所定の変数に問題が格納されるように抽象化済み

        - 外部に出すもの 
        - 解いた問題、選択肢、ユーザーの選択のindex(記録+判定用)
        - 判定用、記録用の関数を分けていて、関数の引数に冗長性がある
        - 判定用は、「ユーザー選択、問題文、選択肢」
        - 記録用は、「ユーザー選択、問題文、選択肢、正解」
        - 管理しやすさ + モード切替の実装 を見据えたものである
        - またカウンタをquizに外部化していて、同期させるのが面倒というのもある
        
        - 
        - 
        - 
        - 
        - 
        - 
        - 
        - 


- 実装したもの
    - 4択クイズの出題
    - 問題生成は、なるべく被りがないように
    - 問題ごとの正誤を記録

- これから実装したいもの
    - 1-1対応知識強化系

    - 出題履歴を残す(選択肢、正誤結果含め)
    - 制限時間モードの追加
    - 直近正解数に応じた、問題の分類
    - 例えば3連続正解なら暗記済みとみなし出題対象から省くなど
    - その日のうちなら短期の3連続正解は、そこで連続正解数の記録を固定
    - 翌日から2連続正解と同じに扱うなど
    - またはユーザーに「暗記済み」判定レベルを任せてもいい(？回連続正解で省くなど)
    - 週テストの実施、これだけはアプリ通知を出すようにする

    - 使いやすさ + ユーザー意欲強化系

    - 解いている問題の連続正解数を出すことでめっちゃプレッシャーを掛ける
    - 3連続正解したら問題カードを爆破する(暗記済み判定)とかでユーザーに達成感
    - 問題、選択肢読み上げ機能の追加
    - 画面見ないで遊べるようにサポート
    - すきま時間のプレイをサポート
    - ランキングorレーティング機能 (just imitate Duolingo)
    - (新たに覚えた単語数パーセントに基づく)
    - 経験値に基づくレート機能を加えるなど？
    - レートが高いほど、レートを同じ量上げるのに必要なアクティビティーが増える
    - そのようにして成長度合いが大きい、負荷の高いモードへ誘導
    - みんなの活動率を見る機能(just imitate Github heatmap)
    - (quiz解いた数or時間に基づく)
    - ゲーム内マネー、ショップシステム
    - (アイコンに使えるバッジを購入 or 画面デザインの購入)
    - ユーザー全員で協力してやるイベントの開催
    - (参考：マイクラ聖地鯖など)


    - リスニング強化系

    - listening-mode (=スピードラーニングのリスペクト)

    - リスニングの音読順や回数を自由にカスタムできるように
    - 市販のやつはEN->JPのみ JP->EN->JP->...などいじれる

    - ニュースなどrss or textからぶち込んで読ませる
    - (権利問題、技術的に可能であれば)

    - 文字上での早押しクイズモード(問題が英語、その下に対応する「意味順に」文節ずつの日本語訳が表示される)
    - いちおう俺が自分の手 + GPTで作れば、英語の構文解析までは可能
    - 英語日本語間の文節対応マップを気合いで生成できる
    - 英語と日本語の意味順の違いギャップを乗り越え、運用できるようにする第一歩
    
    - 指定数の単語しか見えない英語読書(=例えば最大8単語しか見えなければ、そこまでしか文章を読み返せない)
    - 英語の語順で読ませることを強制
    - スコア化の手法は考えてない
    - あくまで無音リスニング練習のアイデアスタックとして？

- あえて実装しないもの
    - 並べ替え問題(力にならない)

- 実装するかわからないもの
    - 単語を覚えていくと進行する脱衣麻雀的な機能


- 実装する画面
- 画面1
- 出題・回答画面
- 問題と回答(ボタン)を出す
- 回答(ボタン)が押されたら次の問題へ
- 出題と回答(ボタン)を変更
- 5回繰り返したら終了

- プロセス
- 起動したら画面1を見せる
- 画面1

- quiz.dart
- class generate_quiznum
- generate answer_num list and 3 dummy_nums

- class NumToContent
- refer from num to question
- quiz map should be const and not to be copied

- Note: recommended comments
- process abstract
- argument detail
- return detail